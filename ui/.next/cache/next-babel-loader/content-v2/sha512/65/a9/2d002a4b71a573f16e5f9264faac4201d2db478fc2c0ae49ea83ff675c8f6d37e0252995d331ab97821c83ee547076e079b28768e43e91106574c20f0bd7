{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\n/* eslint-disable import/no-extraneous-dependencies */\nimport { Badge, Button, Card, CardBody } from 'reactstrap';\nimport { sign } from 'jsonwebtoken';\nimport moment from 'moment';\nimport Link from 'next/link';\nimport _ from 'lodash';\nimport useAuth from '../hooks/useAuth';\nimport { getNext3AppointmentOptions } from '../dateHelper';\n\nconst ExpertCard = ({\n  expert,\n  me\n}) => {\n  var _expert$expertise, _expert$availability;\n\n  const {\n    userData\n  } = useAuth();\n  return /*#__PURE__*/_jsx(Card, {\n    children: /*#__PURE__*/_jsxs(CardBody, {\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"d-flex align-items-center mb-2\",\n        children: [(expert === null || expert === void 0 ? void 0 : expert.image) && /*#__PURE__*/_jsx(\"img\", {\n          src: expert === null || expert === void 0 ? void 0 : expert.image,\n          alt: expert === null || expert === void 0 ? void 0 : expert.name,\n          className: \"float-right mr-3 rounded-circle\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            className: \"m-0 p-0\",\n            children: expert === null || expert === void 0 ? void 0 : expert.name\n          }), /*#__PURE__*/_jsx(\"h5\", {\n            className: \"m-0 p-0 font-weight-bold\",\n            children: expert === null || expert === void 0 ? void 0 : expert.email\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsx(\"strong\", {\n          className: \"mr-3\",\n          children: \"Bio:\"\n        }), \" \", expert === null || expert === void 0 ? void 0 : expert.bio]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"d-flex align-items-start\",\n        children: [/*#__PURE__*/_jsx(\"strong\", {\n          className: \"mr-3\",\n          children: \"Expertise:\"\n        }), ' ', /*#__PURE__*/_jsx(\"div\", {\n          className: \"w-100\",\n          children: expert === null || expert === void 0 ? void 0 : (_expert$expertise = expert.expertise) === null || _expert$expertise === void 0 ? void 0 : _expert$expertise.map(exp => /*#__PURE__*/_jsx(Badge, {\n            color: \"warning\",\n            pill: true,\n            className: \"mr-2\",\n            children: exp.name\n          }, `expertise-${_.snakeCase(exp.name)}-${expert.id}`))\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"d-flex align-items-start mt-2\",\n        children: [/*#__PURE__*/_jsx(\"strong\", {\n          className: \"mr-3\",\n          children: \"Availability:\"\n        }), ' ', /*#__PURE__*/_jsx(\"div\", {\n          className: \"w-100\",\n          children: expert === null || expert === void 0 ? void 0 : (_expert$availability = expert.availability) === null || _expert$availability === void 0 ? void 0 : _expert$availability.map(exp => /*#__PURE__*/_jsx(Badge, {\n            color: \"success\",\n            pill: true,\n            className: \"mr-2\",\n            children: `${exp.day} ${exp.startTime}-${exp.endTime}`\n          }, `availability-${exp.key}-${expert.id}`))\n        })]\n      }), /*#__PURE__*/_jsx(\"hr\", {}), me && /*#__PURE__*/_jsx(Link, {\n        href: `/experts/edit/${expert.email}`,\n        children: /*#__PURE__*/_jsx(Button, {\n          color: \"warning\",\n          children: \"Edit your profile.\"\n        })\n      }), !me && /*#__PURE__*/_jsxs(\"div\", {\n        className: \"d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsx(\"span\", {\n          className: \"mr-2\",\n          children: \"\\uD83D\\uDCC5: \"\n        }), getNext3AppointmentOptions(expert === null || expert === void 0 ? void 0 : expert.availability).map(slot => {\n          // todo: remove this duplication\n          const baseUrl = true ? 'https://10n1.tikalk.dev' : 'http://localhost:4000';\n          const meeting = {\n            time: slot,\n            expert,\n            userName: userData.name,\n            expertise: 'experts list'\n          };\n          const data = sign(meeting, `10n1Secret-${moment().isoWeekday()}`);\n          const url = `${baseUrl}/ds/meeting/?data=${data}`;\n          return /*#__PURE__*/_jsx(Button, {\n            color: \"success\",\n            className: \"mr-2 my-2\",\n            size: \"sm\",\n            onClick: () => window.open(url),\n            children: /*#__PURE__*/_jsx(\"span\", {\n              style: {\n                fontSize: 9\n              },\n              children: slot.format('dddd - DD/MM/YY HH:mm')\n            })\n          }, `availability-btn-${slot}-${expert.id}`);\n        })]\n      })]\n    })\n  });\n};\n\nexport default ExpertCard;","map":null,"metadata":{},"sourceType":"module"}